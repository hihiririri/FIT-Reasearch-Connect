{% extends "base.html" %}

{% block title %}Đăng Ký Sinh Viên{% endblock %}

{# Thêm class vào body thông qua block từ base.html #}
{% block body_attributes %}class="register-page"{% endblock %}

{% block content %}
{# Header tùy chỉnh (Giữ nguyên) #}


{# Container chính - Sẽ dùng Flexbox để đẩy form sang phải #}
<div class="register-container">
    {# Wrapper cho form - Nó sẽ là item duy nhất trong flex container #}
    <div class="register-form-wrapper">
        <h2>Đăng Ký Sinh Viên</h2>
        <form method="POST" action="{{ url_for('register') }}" novalidate>
            {{ form.hidden_tag() }}
            <fieldset>
                {# 1. Họ và tên #}
                <div class="mb-3"> {# Quay lại mb-3 hoặc giữ mb-2 tùy ý #}
                    {{ form.full_name.label(class="form-label") }}
                    {{ form.full_name(class="form-control" + (" is-invalid" if form.full_name.errors else "")) }}
                    {% if form.full_name.errors %}<div class="invalid-feedback">{% for e in form.full_name.errors %}<span>{{e}}</span><br>{% endfor %}</div>{% endif %}
                </div>
                {# 2. MSSV #}
                <div class="mb-3">
                    {{ form.student_id.label(class="form-label") }}
                    {{ form.student_id(class="form-control" + (" is-invalid" if form.student_id.errors else "")) }}
                    {% if form.student_id.errors %}<div class="invalid-feedback">{% for e in form.student_id.errors %}<span>{{e}}</span><br>{% endfor %}</div>{% endif %}
                </div>
                {# ... (Render các trường form còn lại như cũ) ... #}
                 {# 3. Email Đăng nhập #}
                <div class="mb-3">
                    {{ form.email.label(class="form-label") }}
                    {{ form.email(class="form-control" + (" is-invalid" if form.email.errors else ""), placeholder="abc@fit.edu.vn") }}
                    {% if form.email.errors %}<div class="invalid-feedback">{% for e in form.email.errors %}<span>{{e}}</span><br>{% endfor %}</div>{% endif %}
                </div>
                {# 4. Lớp học #}
                <div class="mb-3">
                    {{ form.class_name.label(class="form-label") }}
                    {{ form.class_name(class="form-control" + (" is-invalid" if form.class_name.errors else ""), placeholder="Ví dụ: 22CTT1") }}
                    {% if form.class_name.errors %}<div class="invalid-feedback">{% for e in form.class_name.errors %}<span>{{e}}</span><br>{% endfor %}</div>{% endif %}
                </div>
                {# 5. Ngày sinh #}
                <div class="mb-3 position-relative">
                    {{ form.date_of_birth.label(class="form-label") }}
                    {{ form.date_of_birth(class="form-control" + (" is-invalid" if form.date_of_birth.errors else ""), type="date") }}
                    {% if form.date_of_birth.errors %}<div class="invalid-feedback">{% for e in form.date_of_birth.errors %}<span>{{e}}</span><br>{% endfor %}</div>{% endif %}
                </div>
                {# 6. Giới tính #}
                <div class="mb-3">
                    {{ form.gender.label(class="form-label") }}
                    {{ form.gender(class="form-select" + (" is-invalid" if form.gender.errors else "")) }}
                    {% if form.gender.errors %}<div class="invalid-feedback">{% for e in form.gender.errors %}<span>{{e}}</span><br>{% endfor %}</div>{% endif %}
                </div>
                {# 7. Số điện thoại #}
                <div class="mb-3">
                    {{ form.phone_number.label(class="form-label") }}
                    {{ form.phone_number(class="form-control" + (" is-invalid" if form.phone_number.errors else ""), placeholder="Số điện thoại") }}
                    {% if form.phone_number.errors %}<div class="invalid-feedback">{% for e in form.phone_number.errors %}<span>{{e}}</span><br>{% endfor %}</div>{% endif %}
                </div>
                {# 8. Mật khẩu #}
                <div class="mb-3">
                    {{ form.password.label(class="form-label") }}
                    {{ form.password(class="form-control" + (" is-invalid" if form.password.errors else "")) }}
                    {% if form.password.errors %}<div class="invalid-feedback">{% for e in form.password.errors %}<span>{{e}}</span><br>{% endfor %}</div>{% endif %}
                </div>
                {# 9. Xác nhận Mật khẩu #}
                <div class="mb-3">
                    {{ form.confirm_password.label(class="form-label") }}
                    {{ form.confirm_password(class="form-control" + (" is-invalid" if form.confirm_password.errors else "")) }}
                    {% if form.confirm_password.errors %}<div class="invalid-feedback">{% for e in form.confirm_password.errors %}<span>{{e}}</span><br>{% endfor %}</div>{% endif %}
                </div>
            </fieldset>
            {{ form.submit(class="btn btn-register-submit") }}
        </form>
        <div class="register-login-link">
            Đã có tài khoản? <a href="{{ url_for('login') }}">Đăng nhập tại đây</a>
        </div>
    </div>{# End register-form-wrapper #}
</div>{# End register-container #}

{# Footer tùy chỉnh (Giữ nguyên) #}

{% endblock %}

{% block scripts %}
{{ super() }}
{% endblock %}